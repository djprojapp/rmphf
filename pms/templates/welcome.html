{% extends 'base.html' %}
{% block content %}

<div class="container">
  <div class="row row-cols-2 row-cols-lg-2 g-2 g-lg-3">

    <div class="col ">
      <div id="piechart" style="width: 500px; height: 300px;" class="container col-4 m-25">
        <script type="text/javascript">
          google.charts.load('current', { 'packages': ['corechart'] });
          google.charts.setOnLoadCallback(drawChart);

          function drawChart() {

            var data = google.visualization.arrayToDataTable([
              ['Payment', 'Monthly'],
              ['Med All 15', {{ ma2.tma2 }}],
          ['Med All 10', {{ ma.tma }}],
            ['Net Pension', {{ netpension.tp }}],
            
          ]);

          var options = {
            title: 'Monthly Payments',

            pieHole: 0.4,
          };

          var chart = new google.visualization.PieChart(document.getElementById('piechart'));

          chart.draw(data, options);
        }
        </script>
      </div>
    </div>
    <div class="col">
      <div class="p-3 ">

        <div id="3dchart" style="width: 500px; height: 300px;" class="container col-4 m-25">
          <script type="text/javascript">
            google.charts.load('current', { 'packages': ['corechart'] });
            google.charts.setOnLoadCallback(drawChart);

            function drawChart() {

              var data = google.visualization.arrayToDataTable([
                ['Pensioner Type', 'Total'],
                ['Family Death after Retirement', {{ pen_cat1 }}],
            ['Family Death in Service', {{ pen_cat2 }}],
              ['Self', {{ pen_cat3 }}],
              
            ]);

            var options = {
              title: 'Pensioner Types',
              slices: {
                1: { offset: 0.3 },

              },
            };

            var chart = new google.visualization.PieChart(document.getElementById('3dchart'));

            chart.draw(data, options);
          }
          </script>
        </div>
      </div>
    </div>

    <div class="col" style="height:150px;">
      <div class="p-3  ">
        <p> Total Pensioners: {{pensioner}}</p>
      </div>

    </div>
    <div class="col" style="height:150px;">

      <div class="p-3 ">
        <p> Total Monthly Pension: Rs. {{netpension.tp|floatformat:0}}</p>
        <p>Total Medical Allowance 2010: Rs. {{ma.tma|floatformat:0}}</p>
        <p>Total Medical Allowance 2015: Rs. {{ma2.tma2|floatformat:0}}</p>
      </div>

    </div>
    <div class="card col" style="height:250px;">
      <div class="card-header bg-info responsive">Last Added Pensioner</div>
      
        <div class="card-body" >
          <table class="table table-bordered">
            <tr>
              <th>PPO NO.</th>
              <th>Name</th>
            </tr>
  
           <tr>
              <td>{{lts.ppo}}</td>
              <td>{{lts.name}}</td>
            </tr>
            <tr>
              <td>Restoration Due</td>
              <td>{{rest_due}}</td>
            </tr>
          </table>
          
      </div>
      <div class="card-footer bg-secondary"></div>
        
      </div>
    
    
    <div class="col" style="height:150px;">
      <div class="p-3 ">
        <p>Pensioners drawing less than Rs.50000</p>{{oldage}}
      </div>
    </div>
  </div>

</div>

<div class="row">
  <div class="container col-lg-4">

  </div>

</div>

{% endblock content %}